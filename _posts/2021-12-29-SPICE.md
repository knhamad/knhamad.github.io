---
layout: single
title: "SPICE: Sparsity Promoting Iterated Constrained Endmember Extraction Algorithm"
date: 2022-01-25
tags: [Endmember Extraction, Hyperspectral]
---

## Problem Statement: Hyperspectral Data Collection
Hyperspectral cameras (HSCs) provide a huge contribution to remote sensing data. They have been used in a variety of application such as food safety, biomedical, and forensic applications. HSCs are operated on specific regions of the electromagnetic spectrum. Some are focused on the VNIR and others on SWIR. Below is an example of how Hysperspectral Image (HSI) looks like:
![HSI image](/images/SPICE Blog/HSI example.JPG)

<br/>The problem with HSCs is that there are many aspects that would affect the gathered data, like atmospheric effects, light scattering to different molecules before reflected back to the HSC, and many other. In addition to this problem, data gathered with drone HSC, which have wider field of view where each pixel would be a 1x1 meter or even higher in reality. Pixels with this size could have multiple objects in them. For example, disregarding atmospheric effects, a pixel could have sand, water, and bricks in it and when the HSC captures the reflectance, the spectrum of that pixel will be a mix of those 3 materials. Therefore, it would be hard to tell if the spectra that is being observed is a pure pixel of the object being analyzed. That is where the Linear Mixing Model (LMM) comes in. The LMM assumes that each of the 3 materials, from the previous example, has a proportion value and combing them produces the seen spectrum. The figure below illustrates this process for a single pixel captured by HSC.
![Linear mixing model](/images/SPICE Blog/Linear mixing example.JPG)<br/>

where **y** represents the measured spectrum for that pixel. Due to this issue, Hyperspectral Unmixing was introduced. Hyperspectral unmixing is etimating the number of endmembers present in an HSI. Endmembers are an estimated representative spectra of the materials in HSI. From the pixel example mentioned previously, each of the sand, water, bricks will have their own endmember. The **m** in the figure above also represents endmembers (in this case, there are 3 endmembers). <br/>

There are many endmember extraction algorithms in the state-of-the-art with a variety of approaches like geometrical, statistical, and sparse regression ([Bioucas-Dias, et. al., 2012](https://ieeexplore.ieee.org/document/6200362)). This post is about Sparsity Promoting Iterated Constrained Endmember Extraction algorithm also known as SPICE, which is a geometrical approach of finding the endmembers


## Method: SPICE
To put it in the most simple manner, take the figure below as an example for how the SPICE approach works. This is a one-dimensional example. The data that is in the center of the endmember at point (2,0) represents 50% proportion for each endmember. The data at (1.5,0) represents 75% proportion for endmember 1 because it is closer to that endmember and 25% for endmember 2.
![1D endmember example](/images/SPICE Blog/1D endmember example.JPG)<br/>
The data needs to be inside the canvas that the endmembers create, which is why the SPICE algorithm includes a constraint that the  value of each proportion should be positive and the sum of the proportions for each data should equal to 1. 
![proportion constaint equation](/images/SPICE Blog/proportion constaint equation.JPG)<br/>
where *p* is the proportion and *M* is the number of endmembers. Here is another example with 2D data. As mentioned before, the data needs to be inside the region that the endmembers create when connecting them together. In the example below if the endmember are connected, it will create a simplex (triangle) shape. 
![2D endmember example](/images/SPICE Blog/2D endmember example.JPG)<br/>
![2D endmember example (simplex)](/images/SPICE Blog/2D endmember example (simplex).JPG)<br/>

## Implementation of SPICE


## Applications of SPICE


## Check Out the Code and Paper!
This [work](https://www.spiedigitallibrary.org/conference-proceedings-of-spie/6553/655319/SPICE--a-sparsity-promoting-iterated-constrained-endmember-extraction-algorithm/10.1117/12.722595.full?SSO=1&tab=ArticleLink) was accepted to the **SPIE. Digital Library**! Our [code](https://github.com/GatorSense/SPICE_py) is available! 
## Citation

### Plain Text:
A. Zare and P. Gader, “SPICE: a sparsity promoting iterated constrained endmember extraction algorithm with applications to landmine detection from hyperspectral imagery,” in Proc. SPIE 6553, Detection and Remediation Technologies for Mines and Minelike Targets XII, 2007.

### BibTex:
@InProceedings{zare2007spice,<br>
Title = {SPICE: a sparsity promoting iterated constrained endmember extraction algorithm with applications to landmine detection from hyperspectral imagery},<br>
Author = {Zare, Alina and Gader, Paul},<br>
Booktitle = {Proc. SPIE 6553, Detection and Remediation Technologies for Mines and Minelike Targets XII},<br>
Year = {2007},<br>
Month = {Apr.},<br>
Number = {655319},<br>
Volume = {6553},<br>
Doi = {10.1117/12.722595}}




## Links
<!-- [![alt text](image link)](web link) -->
[![SPIE Paper][1]][2][![Github Repository][3]][4][![Lab][5]][6]

[1]: /images/LOGOS/SPIE.png
[2]: https://www.spiedigitallibrary.org/conference-proceedings-of-spie/6553/655319/SPICE--a-sparsity-promoting-iterated-constrained-endmember-extraction-algorithm/10.1117/12.722595.full?SSO=1&tab=ArticleLink
[3]: /images/LOGOS/github.png
[4]: https://github.com/GatorSense/SPICE_py
[5]: /images/LOGOS/logo_50.png
[6]: https://faculty.eng.ufl.edu/machine-learning


<!-- [![ArXiv Paper](/images/arxiv.jpg"ArXiv Paper")](https://arxiv.org/abs/2001.00215)
[![Github Repository](/images/code.png"Code")](https://github.com/GatorSense/Histogram_Layer)
[![IEEE Paper](/images/ieee.jpg"IEEE Transactions on AI Paper")](https://ieeexplore.ieee.org/document/9652037)
[![Lab](/images/logo.png"GatorSense Lab Website")](https://faculty.eng.ufl.edu/machine-learning) -->



